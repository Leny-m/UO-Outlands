createlist shield_types
#pushlist shield_types 'order shield'
#pushlist shield_types 'chaos shield'
#pushlist shield_types 'heater shield'
pushlist shield_types 'quarterstaff'

if findtype 'White Potion' backpack as pot
    overhead 'STR pot' 1109

    if findlayer self lefthand as shield
        lift shield 1
        drop backpack
        dclick pot 
        wait 500
        dclick shield
    else
        dclick pot 
        wait 500
        while hits > 0
            foreach shield_type in shield_types
                if findtype shield_type backpack as shield
                    getlabel shield label
                    if unidenfitied in label
                        ignore shield
                    else
                        dclick shield
                        clearignore        
                        hotkey '> stop current script'
                    endif
                endif
            endfor
        endwhile
    endif
endif
hotkey 'Play Script: healing\self_keep_healing'